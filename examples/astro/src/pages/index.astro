---
// No server-side logic needed for this page
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ComputeSDK + Astro</title>
  </head>
  <body>
    <main style="padding: 2rem;">
      <h1>ComputeSDK + Astro</h1>
      <button id="run-button">Run Code</button>
      <pre id="output" style="margin-top: 1rem; padding: 1rem; background: #f5f5f5; display: none;"></pre>
    </main>

    <script type="module">
      import { useCompute } from '@computesdk/ui';
      
      const button = document.getElementById('run-button');
      const output = document.getElementById('output');
      const compute = useCompute({ apiEndpoint: '/api/compute' });
      
      button.addEventListener('click', async () => {
        try {
          const sandbox = await compute.sandbox.create();
          const result = await sandbox.runCode('print("Hello from ComputeSDK!")');
          output.textContent = result.result?.stdout || 'No output';
          output.style.display = 'block';
          await sandbox.destroy();
        } catch (error) {
          output.textContent = `Error: ${error.message}`;
          output.style.display = 'block';
        }
      });
    </script>
  </body>
</html>